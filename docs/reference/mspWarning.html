<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Process Alarms — mspWarning • mvMonitoring</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Process Alarms — mspWarning"><meta property="og:description" content="Trigger an alarm, if necessary, for incoming multivariate
  process observations."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mvMonitoring</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/MVSPC-Workflow.html">Multivariate Statistical Process Control with mvMonitoring</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/gabrielodom/mvMonitoring/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Process Alarms</h1>
    <small class="dont-index">Source: <a href="https://github.com/gabrielodom/mvMonitoring/blob/HEAD/R/mspWarning.R" class="external-link"><code>R/mspWarning.R</code></a></small>
    <div class="hidden name"><code>mspWarning.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Trigger an alarm, if necessary, for incoming multivariate
  process observations.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mspWarning</span><span class="op">(</span><span class="va">mspMonitor_object</span>, faultsToTriggerAlarm <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>mspMonitor_object</dt>
<dd><p>An xts matrix returned by the mspMonitor() function</p></dd>


<dt>faultsToTriggerAlarm</dt>
<dd><p>Specifies how many sequential faults will cause
an alarm to trigger. Defaults to 5.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An xts matrix of the same dimensions as mspMonitor_object, with a
  recorded negative or positive and type-specific alarm status. Alarm codes
  are: 0 = no alarm, 1 = Hotelling's T2 alarm, 2 = Squared Prediction Error
  alarm, and 3 = both alarms.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This function and the mspMonitor() function are designed to be ran
  via a scheduled task through Windows "Task Scheduler" or Macintosh OX
  "launchd" application suites. The file flow is as follows: at each time
  interval, run the mspMonitor() function on the matrix of daily observations
  to add a flag status to the most recent incoming observation in the matrix,
  and return this new xts matrix. Then, pass this updated daily observation
  matrix to the mspWarning() function, which will check if the process has
  recorded five or more sequential monitoring statistic flags in a row. Of
  note, because these functions are expected to be repeatedly called in real
  time, this function will only check for an alarm within the last row of the
  xts matrix. To check multiple rows for an alarm state, please use the
  mspTrain() function, which was designed to check multiple past
  observations.</p>
<p>This function requires an xts matrix returned by the mspMonitor() function.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Pipe flow: <code><a href="mspTrain.html">mspTrain</a></code> into <code><a href="mspMonitor.html">mspMonitor</a></code>
  into <code>mspWarning</code>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="co"># cut down on R CMD check time</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">nrml</span> <span class="op">&lt;-</span> <span class="fu"><a href="mspProcessData.html">mspProcessData</a></span><span class="op">(</span>faults <span class="op">=</span> <span class="st">"NOC"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">nrml</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'nrml' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Calculate the training summary, but save five observations for monitoring.</span></span></span>
<span class="r-in"><span>  <span class="va">trainResults_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="mspTrain.html">mspTrain</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">nrml</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="va">n</span> <span class="op">-</span> <span class="fl">5</span><span class="op">)</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                              labelVector <span class="op">=</span> <span class="va">nrml</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="va">n</span> <span class="op">-</span> <span class="fl">5</span><span class="op">)</span>, <span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                              trainObs <span class="op">=</span> <span class="fl">4320</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'nrml' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># While training, we included 1 lag (the default), so we will also lag the</span></span></span>
<span class="r-in"><span>  <span class="co">#   observations we will test.</span></span></span>
<span class="r-in"><span>  <span class="va">testObs</span> <span class="op">&lt;-</span> <span class="va">nrml</span><span class="op">[</span><span class="op">(</span><span class="va">n</span> <span class="op">-</span> <span class="fl">6</span><span class="op">)</span><span class="op">:</span><span class="va">n</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'nrml' not found</span>
<span class="r-in"><span>  <span class="va">testObs</span> <span class="op">&lt;-</span> <span class="fu">xts</span><span class="fu">:::</span><span class="fu"><a href="https://rdrr.io/pkg/xts/man/diff.html" class="external-link">lag.xts</a></span><span class="op">(</span><span class="va">testObs</span>, <span class="fl">0</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'testObs' not found</span>
<span class="r-in"><span>  <span class="va">testObs</span> <span class="op">&lt;-</span> <span class="va">testObs</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>,<span class="op">]</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'testObs' not found</span>
<span class="r-in"><span>  <span class="va">testObs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">nrml</span><span class="op">[</span><span class="op">(</span><span class="va">n</span> <span class="op">-</span> <span class="fl">5</span><span class="op">)</span><span class="op">:</span><span class="va">n</span>, <span class="fl">1</span><span class="op">]</span>, <span class="va">testObs</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'nrml' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Run the monitoring function.</span></span></span>
<span class="r-in"><span>  <span class="va">dataAndFlags</span> <span class="op">&lt;-</span> <span class="fu"><a href="mspMonitor.html">mspMonitor</a></span><span class="op">(</span>observations <span class="op">=</span> <span class="va">testObs</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                             labelVector <span class="op">=</span> <span class="va">testObs</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                             trainingSummary <span class="op">=</span> <span class="va">trainResults_ls</span><span class="op">$</span><span class="va">TrainingSpecs</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'testObs' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Alarm check the last row of the matrix returned by the mspMonitor</span></span></span>
<span class="r-in"><span>  <span class="co">#   function</span></span></span>
<span class="r-in"><span>  <span class="fu">mspWarning</span><span class="op">(</span><span class="va">dataAndFlags</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in eval(expr, envir, enclos):</span> object 'dataAndFlags' not found</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://melissanjohnson.github.io" class="external-link">Melissa Innerst</a>, <a href="https://github.com/gabrielodom" class="external-link">Gabriel Odom</a>, <a href="https://benbarnard.bearstatistics.com" class="external-link">Ben Barnard</a>, Karen Kazor, <a href="https://sites.baylor.edu/mandy_hering" class="external-link">Amanda Hering</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

